(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,84762,e=>{"use strict";var a=e.i(96243),s=e.i(47163);function r({className:e,...r}){return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,s.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...r})}e.s(["Textarea",()=>r])},93134,e=>{"use strict";let a=(0,e.i(10965).default)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);e.s(["default",()=>a])},5389,e=>{"use strict";var a=e.i(96243),s=e.i(93221),r=e.i(70065),i=e.i(67881),t=e.i(23750),n=e.i(10708),o=e.i(84762),l=e.i(10965);let d=(0,l.default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var c=e.i(79971);let h=(0,l.default)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),m=(0,l.default)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);e.i(11429);var u=e.i(75985),x=e.i(76009);e.i(68063);var p=e.i(93286),g=e.i(22036),j=e.i(45041),v=e.i(93134),v=v,f=e.i(34290);function y(){let[e,l]=(0,s.useState)({storeName:"Pasta Vicenzo",storeDescription:"Pastas artesanales hechas con ingredientes seleccionados",phone:"",whatsapp:"",email:"",address:"",city:"",openingHours:"",deliveryInfo:"",pickupInfo:"",paymentMethods:"",heroImage:"",socialMedia:{}}),[y,b]=(0,s.useState)(!0),[N,C]=(0,s.useState)(!1),[I,w]=(0,s.useState)(null),[k,M]=(0,s.useState)(""),[L,D]=(0,s.useState)(!1);(0,s.useEffect)(()=>{T()},[]);let T=async()=>{try{b(!0);let a=(0,u.doc)(x.db,"config","site"),s=await (0,u.getDoc)(a);if(s.exists()){let a=s.data();l({...e,...a}),a.heroImage&&M(a.heroImage)}}catch(e){console.error("Error cargando configuración:",e)}finally{b(!1)}},F=async e=>{let a=`config/hero_${Date.now()}_${e.name}`,s=(0,p.ref)(x.storage,a);return await (0,p.uploadBytes)(s,e),await (0,p.getDownloadURL)(s)},H=async()=>{try{C(!0);let a=e.heroImage;if(I){D(!0);try{a=await F(I),g.toast.success("Imagen del inicio subida correctamente"),w(null)}catch(e){console.error("Error subiendo imagen:",e),g.toast.error("Error al subir la imagen. Intentá nuevamente."),D(!1);return}finally{D(!1)}}let s=(0,u.doc)(x.db,"config","site"),r={...e,heroImage:a};await (0,u.setDoc)(s,r,{merge:!0}),l(r),a&&M(a),g.toast.success("Configuración guardada correctamente")}catch(e){console.error("Error guardando configuración:",e),g.toast.error("Error al guardar la configuración")}finally{C(!1)}};return y?(0,a.jsx)(r.Card,{children:(0,a.jsx)(r.CardContent,{className:"py-12 text-center",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Cargando configuración..."})})}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"font-serif text-2xl font-bold text-primary mb-2",children:"Configuración del Sitio"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Gestioná la información general de la tienda"})]}),(0,a.jsx)("form",{onSubmit:e=>{e.preventDefault(),H()},children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(r.Card,{children:[(0,a.jsxs)(r.CardHeader,{children:[(0,a.jsxs)(r.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(h,{className:"h-5 w-5"}),"Información General"]}),(0,a.jsx)(r.CardDescription,{children:"Datos básicos de la tienda"})]}),(0,a.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"storeName",children:"Nombre de la Tienda"}),(0,a.jsx)(t.Input,{id:"storeName",value:e.storeName,onChange:a=>l({...e,storeName:a.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"storeDescription",children:"Descripción"}),(0,a.jsx)(o.Textarea,{id:"storeDescription",value:e.storeDescription,onChange:a=>l({...e,storeDescription:a.target.value}),rows:3})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"heroImage",children:"Imagen del Inicio (Hero)"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(t.Input,{id:"heroImage",type:"file",accept:"image/*",onChange:e=>{let a=e.target.files?.[0];if(a){if(!a.type.startsWith("image/"))return void g.toast.error("Por favor seleccioná un archivo de imagen válido");if(a.size>5242880)return void g.toast.error("La imagen es demasiado grande. Máximo 5MB");w(a);let e=new FileReader;e.onloadend=()=>{M(e.result)},e.readAsDataURL(a)}},disabled:L,className:"cursor-pointer"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Formatos aceptados: JPG, PNG, WEBP. Tamaño máximo: 5MB"})]}),(k||e.heroImage)&&(0,a.jsxs)("div",{className:"relative w-full h-64 rounded-md overflow-hidden bg-muted border",children:[(0,a.jsx)(j.default,{src:k||e.heroImage||"",alt:"Preview imagen del inicio",fill:!0,className:"object-cover"}),L&&(0,a.jsx)("div",{className:"absolute inset-0 bg-background/80 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Subiendo imagen..."})]})}),!L&&(k||e.heroImage)&&(0,a.jsx)(i.Button,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:()=>{w(null),M(""),l({...e,heroImage:""})},children:(0,a.jsx)(f.X,{className:"h-4 w-4"})})]}),!k&&!e.heroImage&&(0,a.jsxs)("div",{className:"border-2 border-dashed rounded-md p-8 text-center",children:[(0,a.jsx)(v.default,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No hay imagen configurada. Se usará la imagen por defecto."})]})]})]})]})]}),(0,a.jsxs)(r.Card,{children:[(0,a.jsxs)(r.CardHeader,{children:[(0,a.jsxs)(r.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(c.Phone,{className:"h-5 w-5"}),"Información de Contacto"]}),(0,a.jsx)(r.CardDescription,{children:"Datos de contacto y ubicación"})]}),(0,a.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"phone",children:"Teléfono"}),(0,a.jsx)(t.Input,{id:"phone",value:e.phone,onChange:a=>l({...e,phone:a.target.value}),placeholder:"11 1234 5678"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"whatsapp",children:"WhatsApp"}),(0,a.jsx)(t.Input,{id:"whatsapp",value:e.whatsapp,onChange:a=>l({...e,whatsapp:a.target.value}),placeholder:"5491123456789"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"email",children:"Email"}),(0,a.jsx)(t.Input,{id:"email",type:"email",value:e.email,onChange:a=>l({...e,email:a.target.value}),placeholder:"contacto@pastavicenzo.com"})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"address",children:"Dirección"}),(0,a.jsx)(t.Input,{id:"address",value:e.address,onChange:a=>l({...e,address:a.target.value}),placeholder:"Av. Libertador 1234"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"city",children:"Ciudad"}),(0,a.jsx)(t.Input,{id:"city",value:e.city,onChange:a=>l({...e,city:a.target.value}),placeholder:"CABA"})]})]})]})]}),(0,a.jsxs)(r.Card,{children:[(0,a.jsxs)(r.CardHeader,{children:[(0,a.jsxs)(r.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(m,{className:"h-5 w-5"}),"Información Adicional"]}),(0,a.jsx)(r.CardDescription,{children:"Horarios, métodos de entrega y pago"})]}),(0,a.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"openingHours",children:"Horarios de Atención"}),(0,a.jsx)(o.Textarea,{id:"openingHours",value:e.openingHours,onChange:a=>l({...e,openingHours:a.target.value}),placeholder:"Lunes a Viernes: 9:00 - 20:00",rows:2})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"deliveryInfo",children:"Información de Envíos"}),(0,a.jsx)(o.Textarea,{id:"deliveryInfo",value:e.deliveryInfo,onChange:a=>l({...e,deliveryInfo:a.target.value}),placeholder:"Costo y zonas de envío...",rows:2})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"pickupInfo",children:"Información de Retiro"}),(0,a.jsx)(o.Textarea,{id:"pickupInfo",value:e.pickupInfo,onChange:a=>l({...e,pickupInfo:a.target.value}),placeholder:"Horarios y ubicación para retiro...",rows:2})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"paymentMethods",children:"Métodos de Pago Aceptados"}),(0,a.jsx)(o.Textarea,{id:"paymentMethods",value:e.paymentMethods,onChange:a=>l({...e,paymentMethods:a.target.value}),placeholder:"Efectivo, Transferencia, Mercado Pago...",rows:2})]})]})]}),(0,a.jsxs)(r.Card,{children:[(0,a.jsxs)(r.CardHeader,{children:[(0,a.jsx)(r.CardTitle,{children:"Redes Sociales"}),(0,a.jsx)(r.CardDescription,{children:"Enlaces a redes sociales"})]}),(0,a.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"instagram",children:"Instagram"}),(0,a.jsx)(t.Input,{id:"instagram",value:e.socialMedia.instagram||"",onChange:a=>l({...e,socialMedia:{...e.socialMedia,instagram:a.target.value}}),placeholder:"@pastavicenzo"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"facebook",children:"Facebook"}),(0,a.jsx)(t.Input,{id:"facebook",value:e.socialMedia.facebook||"",onChange:a=>l({...e,socialMedia:{...e.socialMedia,facebook:a.target.value}}),placeholder:"facebook.com/pastavicenzo"})]})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)(i.Button,{type:"submit",disabled:N,children:[(0,a.jsx)(d,{className:"h-4 w-4 mr-2"}),N?"Guardando...":"Guardar Cambios"]})})]})})]})}e.s(["default",()=>y],5389)}]);