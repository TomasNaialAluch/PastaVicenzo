(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,84762,e=>{"use strict";var a=e.i(96243),s=e.i(47163);function r({className:e,...r}){return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,s.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...r})}e.s(["Textarea",()=>r])},11741,e=>{"use strict";let a=(0,e.i(10965).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>a],11741)},93134,e=>{"use strict";let a=(0,e.i(10965).default)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);e.s(["default",()=>a])},5389,e=>{"use strict";var a=e.i(96243),s=e.i(93221),r=e.i(70065),t=e.i(67881),i=e.i(23750),n=e.i(10708),d=e.i(84762),l=e.i(69035),o=e.i(10965);let c=(0,o.default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var m=e.i(79971);let h=(0,o.default)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),u=(0,o.default)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),p=(0,o.default)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var x=e.i(29439),g=e.i(11741);e.i(11429);var v=e.i(75985),j=e.i(76009);e.i(68063);var y=e.i(93286),f=e.i(22036),b=e.i(45041),N=e.i(93134),N=N,C=e.i(34290);function I(){let[e,o]=(0,s.useState)({storeName:"Pasta Vicenzo",storeDescription:"Pastas artesanales hechas con ingredientes seleccionados",phone:"",whatsapp:"",email:"",address:"",city:"",openingHours:"",deliveryInfo:"",pickupInfo:"",paymentMethods:"",paymentOptions:[],heroImage:"",socialMedia:{}}),[I,k]=(0,s.useState)(!0),[w,M]=(0,s.useState)(!1),[D,L]=(0,s.useState)(null),[T,F]=(0,s.useState)(""),[H,O]=(0,s.useState)(!1);(0,s.useEffect)(()=>{S()},[]);let S=async()=>{try{k(!0);let a=(0,v.doc)(j.db,"config","site"),s=await (0,v.getDoc)(a);if(s.exists()){let a=s.data();o({...e,...a,paymentOptions:a.paymentOptions||[{id:"efectivo",name:"Efectivo",details:"10% descuento",active:!0},{id:"transferencia",name:"Transferencia Bancaria",details:"",active:!0},{id:"mp",name:"Mercado Pago",details:"",active:!0}]}),a.heroImage&&F(a.heroImage)}}catch(e){console.error("Error cargando configuración:",e)}finally{k(!1)}},z=(a,s,r)=>{o({...e,paymentOptions:e.paymentOptions.map(e=>e.id===a?{...e,[s]:r}:e)})},P=async e=>{let a=`config/hero_${Date.now()}_${e.name}`,s=(0,y.ref)(j.storage,a);return await (0,y.uploadBytes)(s,e),await (0,y.getDownloadURL)(s)},A=async()=>{try{M(!0);let a=e.heroImage;if(D){O(!0);try{a=await P(D),f.toast.success("Imagen del inicio subida correctamente"),L(null)}catch(e){console.error("Error subiendo imagen:",e),f.toast.error("Error al subir la imagen. Intentá nuevamente."),O(!1);return}finally{O(!1)}}let s=(0,v.doc)(j.db,"config","site"),r={...e,heroImage:a};await (0,v.setDoc)(s,r,{merge:!0}),o(r),a&&F(a),f.toast.success("Configuración guardada correctamente")}catch(e){console.error("Error guardando configuración:",e),f.toast.error("Error al guardar la configuración")}finally{M(!1)}};return I?(0,a.jsx)(r.Card,{children:(0,a.jsx)(r.CardContent,{className:"py-12 text-center",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Cargando configuración..."})})}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"font-serif text-2xl font-bold text-primary mb-2",children:"Configuración del Sitio"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Gestioná la información general de la tienda"})]}),(0,a.jsx)("form",{onSubmit:e=>{e.preventDefault(),A()},children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(r.Card,{children:[(0,a.jsxs)(r.CardHeader,{children:[(0,a.jsxs)(r.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(h,{className:"h-5 w-5"}),"Información General"]}),(0,a.jsx)(r.CardDescription,{children:"Datos básicos de la tienda"})]}),(0,a.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"storeName",children:"Nombre de la Tienda"}),(0,a.jsx)(i.Input,{id:"storeName",value:e.storeName,onChange:a=>o({...e,storeName:a.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"storeDescription",children:"Descripción"}),(0,a.jsx)(d.Textarea,{id:"storeDescription",value:e.storeDescription,onChange:a=>o({...e,storeDescription:a.target.value}),rows:3})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"heroImage",children:"Imagen del Inicio (Hero)"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Input,{id:"heroImage",type:"file",accept:"image/*",onChange:e=>{let a=e.target.files?.[0];if(a){if(!a.type.startsWith("image/"))return void f.toast.error("Por favor seleccioná un archivo de imagen válido");if(a.size>5242880)return void f.toast.error("La imagen es demasiado grande. Máximo 5MB");L(a);let e=new FileReader;e.onloadend=()=>{F(e.result)},e.readAsDataURL(a)}},disabled:H,className:"cursor-pointer"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Formatos aceptados: JPG, PNG, WEBP. Tamaño máximo: 5MB"})]}),(T||e.heroImage)&&(0,a.jsxs)("div",{className:"relative w-full h-64 rounded-md overflow-hidden bg-muted border",children:[(0,a.jsx)(b.default,{src:T||e.heroImage||"",alt:"Preview imagen del inicio",fill:!0,className:"object-cover"}),H&&(0,a.jsx)("div",{className:"absolute inset-0 bg-background/80 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Subiendo imagen..."})]})}),!H&&(T||e.heroImage)&&(0,a.jsx)(t.Button,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:()=>{L(null),F(""),o({...e,heroImage:""})},children:(0,a.jsx)(C.X,{className:"h-4 w-4"})})]}),!T&&!e.heroImage&&(0,a.jsxs)("div",{className:"border-2 border-dashed rounded-md p-8 text-center",children:[(0,a.jsx)(N.default,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No hay imagen configurada. Se usará la imagen por defecto."})]})]})]})]})]}),(0,a.jsxs)(r.Card,{children:[(0,a.jsxs)(r.CardHeader,{children:[(0,a.jsxs)(r.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(m.Phone,{className:"h-5 w-5"}),"Información de Contacto"]}),(0,a.jsx)(r.CardDescription,{children:"Datos de contacto y ubicación"})]}),(0,a.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"phone",children:"Teléfono"}),(0,a.jsx)(i.Input,{id:"phone",value:e.phone,onChange:a=>o({...e,phone:a.target.value}),placeholder:"11 1234 5678"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"whatsapp",children:"WhatsApp"}),(0,a.jsx)(i.Input,{id:"whatsapp",value:e.whatsapp,onChange:a=>o({...e,whatsapp:a.target.value}),placeholder:"5491123456789"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"email",children:"Email"}),(0,a.jsx)(i.Input,{id:"email",type:"email",value:e.email,onChange:a=>o({...e,email:a.target.value}),placeholder:"contacto@pastavicenzo.com"})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"address",children:"Dirección"}),(0,a.jsx)(i.Input,{id:"address",value:e.address,onChange:a=>o({...e,address:a.target.value}),placeholder:"Av. Libertador 1234"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"city",children:"Ciudad"}),(0,a.jsx)(i.Input,{id:"city",value:e.city,onChange:a=>o({...e,city:a.target.value}),placeholder:"CABA"})]})]})]})]}),(0,a.jsxs)(r.Card,{children:[(0,a.jsxs)(r.CardHeader,{children:[(0,a.jsxs)(r.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(u,{className:"h-5 w-5"}),"Información Adicional"]}),(0,a.jsx)(r.CardDescription,{children:"Horarios, métodos de entrega y pago"})]}),(0,a.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"openingHours",children:"Horarios de Atención"}),(0,a.jsx)(d.Textarea,{id:"openingHours",value:e.openingHours,onChange:a=>o({...e,openingHours:a.target.value}),placeholder:"Lunes a Viernes: 9:00 - 20:00",rows:2})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"deliveryInfo",children:"Información de Envíos"}),(0,a.jsx)(d.Textarea,{id:"deliveryInfo",value:e.deliveryInfo,onChange:a=>o({...e,deliveryInfo:a.target.value}),placeholder:"Costo y zonas de envío...",rows:2})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"pickupInfo",children:"Información de Retiro"}),(0,a.jsx)(d.Textarea,{id:"pickupInfo",value:e.pickupInfo,onChange:a=>o({...e,pickupInfo:a.target.value}),placeholder:"Horarios y ubicación para retiro...",rows:2})]}),(0,a.jsx)(l.Separator,{className:"my-4"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(n.Label,{className:"flex items-center gap-2",children:[(0,a.jsx)(p,{className:"h-4 w-4"}),"Métodos de Pago"]}),(0,a.jsxs)(t.Button,{type:"button",onClick:()=>{let a={id:`custom_${Date.now()}`,name:"",details:"",active:!0};o({...e,paymentOptions:[...e.paymentOptions||[],a]})},size:"sm",variant:"outline",children:[(0,a.jsx)(x.Plus,{className:"h-4 w-4 mr-2"})," Agregar"]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[e.paymentOptions?.map(s=>(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-muted/30 rounded-lg border",children:[(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(i.Input,{type:"checkbox",className:"h-4 w-4",checked:s.active,onChange:e=>z(s.id,"active",e.target.checked)})}),(0,a.jsxs)("div",{className:"flex-1 grid gap-2",children:[(0,a.jsx)(i.Input,{value:s.name,onChange:e=>z(s.id,"name",e.target.value),placeholder:"Nombre (ej: Efectivo)",className:"h-8"}),(0,a.jsx)(i.Input,{value:s.details,onChange:e=>z(s.id,"details",e.target.value),placeholder:"Detalle (ej: 10% descuento, Alias...)",className:"h-8 text-xs text-muted-foreground"})]}),(0,a.jsx)(t.Button,{type:"button",variant:"ghost",size:"icon",onClick:()=>{var a;return a=s.id,void o({...e,paymentOptions:e.paymentOptions.filter(e=>e.id!==a)})},className:"text-destructive hover:bg-destructive/10",children:(0,a.jsx)(g.Trash2,{className:"h-4 w-4"})})]},s.id)),(!e.paymentOptions||0===e.paymentOptions.length)&&(0,a.jsx)("div",{className:"text-center p-4 text-muted-foreground text-sm border border-dashed rounded-lg",children:"No hay métodos de pago configurados. Agregá uno."})]})]})]})]}),(0,a.jsxs)(r.Card,{children:[(0,a.jsxs)(r.CardHeader,{children:[(0,a.jsx)(r.CardTitle,{children:"Redes Sociales"}),(0,a.jsx)(r.CardDescription,{children:"Enlaces a redes sociales"})]}),(0,a.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"instagram",children:"Instagram"}),(0,a.jsx)(i.Input,{id:"instagram",value:e.socialMedia.instagram||"",onChange:a=>o({...e,socialMedia:{...e.socialMedia,instagram:a.target.value}}),placeholder:"@pastavicenzo"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"facebook",children:"Facebook"}),(0,a.jsx)(i.Input,{id:"facebook",value:e.socialMedia.facebook||"",onChange:a=>o({...e,socialMedia:{...e.socialMedia,facebook:a.target.value}}),placeholder:"facebook.com/pastavicenzo"})]})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)(t.Button,{type:"submit",disabled:w,children:[(0,a.jsx)(c,{className:"h-4 w-4 mr-2"}),w?"Guardando...":"Guardar Cambios"]})})]})})]})}e.s(["default",()=>I],5389)}]);